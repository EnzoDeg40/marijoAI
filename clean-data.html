<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Clean and preprocess your datasets with AI-powered tools">
    <title>Clean Data - MarijoAI</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/header.css">
    <link rel="stylesheet" href="styles/clean-data.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav">
                <a href="index.html" class="logo">
                    <span class="logo-icon">ðŸ§ </span>
                    <span class="logo-text">MarijoAI</span>
                </a>
                
                <div class="nav-links">
                    <a href="about.html" class="nav-link">About</a>
                    <a href="clean-data.html" class="nav-link active">Clean Data</a>
                    <a href="create.html" class="nav-link">Create</a>
                    <a href="train.html" class="nav-link">Train</a>
                    <a href="predict.html" class="nav-link">Predict</a>
                    <a href="exercises.html" class="nav-link">Exercises</a>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="clean-data">
            <div class="container">
                <div class="page-header">
                    <h1>Clean Data</h1>
                    <p>Upload your dataset and let our AI-powered tools clean and preprocess your data</p>
                </div>

                <div class="grid grid-2">
                    <div class="card">
                        <h2>Upload Data</h2>
                        
                        <div class="form-group">
                            <label>Does your CSV file have a header row (column names in the first row)?</label>
                            <div class="radio-group">
                                <label>
                                    <input type="radio" name="hasHeader" value="yes" />
                                    Yes
                                </label>
                                <label>
                                    <input type="radio" name="hasHeader" value="no" />
                                    No
                                </label>
                            </div>
                            <small>Select "Yes" if your CSV file has column names in the first row, "No" if it only contains data</small>
                        </div>

                        <div class="form-group">
                            <label for="delimiter-select">Delimiter</label>
                            <select id="delimiter-select">
                                <option value="auto">Auto-detect</option>
                                <option value=",">Comma (,)</option>
                                <option value=";">Semicolon (;)</option>
                                <option value="\t">Tab (\t)</option>
                                <option value="|">Pipe (|)</option>
                                <option value="custom">Custom</option>
                            </select>
                            <input type="text" id="custom-delimiter" placeholder="Enter custom delimiter" style="display: none; margin-top: 8px;" maxlength="5" />
                            <small>Choose the delimiter used in your CSV file</small>
                        </div>

                        <div class="form-group">
                            <label for="file-upload">Choose CSV File</label>
                            <input type="file" id="file-upload" accept=".csv" class="file-input" />
                        </div>

                        <div id="loading-container" class="loading-container" style="display: none;">
                            <div class="loading"></div>
                            <span>Processing data...</span>
                        </div>

                        <div id="error-message" class="error" style="display: none;"></div>
                        <div id="success-message" class="success" style="display: none;"></div>

                        <div id="data-info" class="data-info" style="display: none;">
                            <h3>Data Information</h3>
                            <p><strong>Rows:</strong> <span id="data-rows"></span></p>
                            <p><strong>Columns:</strong> <span id="data-columns"></span></p>
                            <p><strong>Column Names:</strong> <span id="data-column-names"></span></p>
                        </div>
                    </div>

                    <div class="card">
                        <h2>Cleaning Options</h2>
                        
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="remove-duplicates" checked />
                                Remove duplicate rows
                            </label>
                        </div>

                        <div class="form-group">
                            <label for="missing-values">Handle missing values:</label>
                            <select id="missing-values">
                                <option value="remove">Remove rows with missing values</option>
                                <option value="mean">Fill with mean</option>
                                <option value="median">Fill with median</option>
                                <option value="mode">Fill with mode</option>
                                <option value="none">Keep as is</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="normalize-data" checked/>
                                Normalize numeric data (0-1 scale)
                            </label>
                        </div>

                        <div class="button-group">
                            <button class="btn btn-primary" id="clean-data-btn">Clean Data</button>
                            <button class="btn btn-secondary" id="reset-data-btn">Reset</button>
                        </div>
                    </div>
                </div>

                <div id="data-preview-card" class="card" style="display: none;">
                    <h2>Data Preview</h2>
                    <div class="data-preview">
                        <table id="preview-table">
                            <thead></thead>
                            <tbody></tbody>
                        </table>
                    </div>
                    <p class="preview-note" id="preview-note"></p>
                </div>

                <div id="download-card" class="card" style="display: none;">
                    <h2>Download Cleaned Data</h2>
                    <p>Your data has been cleaned and is ready for use in model training.</p>
                    
                    <div class="download-options">
                        <h3>Download Options</h3>
                        
                        <div class="form-group">
                            <label>
                                <input type="radio" name="downloadOption" value="full" checked />
                                Download full dataset
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label>
                                <input type="radio" name="downloadOption" value="split" />
                                Split into training and validation datasets
                            </label>
                        </div>
                        
                        <div class="form-group" id="validation-split-group" style="display: none;">
                            <label for="validation-split">Validation split ratio:</label>
                            <input type="number" id="validation-split" value="0.2" min="0.1" max="0.5" step="0.1" />
                            <small>Percentage of data to use for validation (0.1 = 10%, 0.2 = 20%, etc.)</small>
                       </div>
                       
                    </div>
                    
                    <button class="btn btn-success" id="download-btn">Download Full Dataset</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script src="js/neural-network.js"></script>
    <script src="js/shared.js"></script>
    <script src="js/clean-data.js"></script>
</body>
</html>

